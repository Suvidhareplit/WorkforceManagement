# Database Configuration
DATABASE_URL=mysql://hrms_user:hrms_password@localhost:3306/hrms_db

# AWS S3 Configuration for File Attachments
# Leave these empty if you don't want to configure S3 yet
# The system will work without S3, but file uploads will be disabled

# AWS Region (e.g., us-east-1, ap-south-1, eu-west-1)
AWS_REGION=us-east-1
# Alternative name for region
AWS_S3_REGION=us-east-1

# S3 Bucket Name (create this in AWS S3 console)
AWS_S3_BUCKET=your-bucket-name-here

# AWS Credentials (get from AWS IAM)
AWS_ACCESS_KEY_ID=your-access-key-here
AWS_SECRET_ACCESS_KEY=your-secret-key-here

# Server Configuration
PORT=5000
NODE_ENV=development

# Frontend URL for CORS
FRONTEND_URL=http://localhost:3000

# Session Secret
SESSION_SECRET=your-session-secret-here

# JWT Secret (if using JWT)
JWT_SECRET=your-jwt-secret-here

# ==============================================================================
# S3 SETUP INSTRUCTIONS:
# ==============================================================================
# 
# 1. Create AWS Account (if you don't have one)
#    - Go to https://aws.amazon.com/
#    - Sign up for free tier (includes 5GB S3 storage free for 12 months)
#
# 2. Create S3 Bucket
#    - Go to AWS Console > S3
#    - Click "Create bucket"
#    - Choose a unique bucket name (e.g., "hrms-leave-attachments-prod")
#    - Select region closest to your users (e.g., ap-south-1 for India)
#    - Block all public access (recommended for security)
#    - Enable versioning (optional but recommended)
#    - Click "Create bucket"
#
# 3. Create IAM User with S3 Access
#    - Go to AWS Console > IAM > Users
#    - Click "Add users"
#    - User name: "hrms-s3-uploader"
#    - Select "Access key - Programmatic access"
#    - Click "Next: Permissions"
#    - Attach policy: "AmazonS3FullAccess" (or create custom policy with less permissions)
#    - Click "Next" > "Create user"
#    - SAVE the Access Key ID and Secret Access Key (you won't see them again!)
#
# 4. Set CORS Policy on S3 Bucket (if accessing from browser)
#    - Go to your bucket > Permissions > CORS
#    - Add this configuration:
#    [
#      {
#        "AllowedHeaders": ["*"],
#        "AllowedMethods": ["GET", "PUT", "POST", "DELETE"],
#        "AllowedOrigins": ["http://localhost:3000", "your-production-domain.com"],
#        "ExposeHeaders": ["ETag"]
#      }
#    ]
#
# 5. Update .env file with your credentials
#    - Copy this file to .env
#    - Replace placeholder values with actual credentials
#    - Restart server
#
# 6. Verify Configuration
#    - Start server: npm run dev
#    - Check console for: "âœ… S3 Service initialized"
#    - Test upload: POST /api/attachments/status
#    - Should return: { "configured": true }
#
# ==============================================================================
# SECURITY NOTES:
# ==============================================================================
# 
# - NEVER commit .env file to Git!
# - .env is already in .gitignore
# - Use environment variables in production (Heroku, AWS, etc.)
# - Rotate IAM credentials periodically
# - Use least-privilege IAM policies
# - Enable S3 bucket encryption
# - Use presigned URLs for secure file access (already implemented)
#
# ==============================================================================
